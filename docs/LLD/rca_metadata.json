{"add":[{"section":"Shopping Cart Module","requirement_reference":"story_summary.json: api_contracts_required","description":"Missing explicit API endpoint for empty cart state redirection ('continue shopping' link) and UI handler.","reason":"Story specifies UI redirection for empty cart, but LLD does not describe the API or workflow for this."},{"section":"Shopping Cart Module","requirement_reference":"story_summary.json: business_logic_rules","description":"Missing validation rule for automatic recalculation of subtotal and total upon any quantity mutation.","reason":"Story mandates recalculation logic, but LLD does not explicitly mention this rule in Cart Service."},{"section":"Shopping Cart Module","requirement_reference":"story_summary.json: api_contracts_required","description":"Missing API contract for GET /api/v1/cart (Retrieve items, individual subtotals, and cart total).","reason":"Story specifies this endpoint, but LLD does not list or describe it in API Specifications."},{"section":"Shopping Cart Module","requirement_reference":"story_summary.json: api_contracts_required","description":"Missing API contract for PUT /api/v1/cart/items/{itemId} (Update quantity).","reason":"Story specifies this endpoint, but LLD does not list or describe it in API Specifications."},{"section":"Shopping Cart Module","requirement_reference":"story_summary.json: api_contracts_required","description":"Missing API contract for DELETE /api/v1/cart/items/{itemId} (Remove item from cart).","reason":"Story specifies this endpoint, but LLD does not list or describe it in API Specifications."}],"modify":[{"section":"Shopping Cart Module - Cart Service","current_state":"addItem validates product availability and adds item, but does not handle default quantity of 1 if not specified.","required_change":"Update addItem logic to default quantity to 1 when not provided, as per story requirement.","reason":"Story specifies default quantity of 1 for add product, but LLD does not enforce this."},{"section":"Shopping Cart Module - Cart Service","current_state":"updateItem removes item if quantity <= 0, but does not handle UI redirection for empty cart.","required_change":"Add logic to trigger UI redirection ('continue shopping' link) when cart becomes empty.","reason":"Story mandates UI redirection for empty cart, but LLD does not implement this."},{"section":"Shopping Cart Module - Cart Model","current_state":"CartItem entity contains Product Reference, Quantity, and Price, but does not explicitly store current Price Snapshot.","required_change":"Modify CartItem model to store price snapshot at time of addition.","reason":"Story requires price snapshot for each cart item, but LLD does not specify this."}],"delete":null}