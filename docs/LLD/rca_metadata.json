{"add":[{"section":"5.3 Cart APIs","requirement_reference":"story_summary.json: api_contracts_required","description":"Missing explicit API endpoint for 'DELETE /api/v1/cart/items/{itemId}' to remove item from cart. LLD only describes 'DELETE /api/v1/cart/items/{cart_item_id}' but does not clarify mapping to story's {itemId} or its workflow.","reason":"Story requires clear removal endpoint and workflow traceability for cart items, which is not explicitly documented in LLD."},{"section":"4.3 Cart Service","requirement_reference":"story_summary.json: business_logic_rules","description":"Missing UI redirection logic for empty cart state ('continue shopping' link) in CartService responsibilities and business logic.","reason":"Story mandates specific UI behavior for empty cart, but LLD does not mention this requirement."}],"modify":[{"section":"5.3 Cart APIs","current_state":"POST /api/v1/cart/add endpoint accepts product_id, quantity, price; validation rules are present but do not enforce price snapshot logic.","required_change":"Update validation and response logic to ensure CartItem stores price snapshot at time of addition, matching story's requirement for CartItem entity.","reason":"Story requires CartItem to contain current Price Snapshot; LLD does not enforce this in API or model definition."},{"section":"6.2.3 CartItems Table","current_state":"CartItems table schema defines price field but does not clarify price snapshot semantics or enforce price immutability after addition.","required_change":"Clarify and enforce that price field in CartItems represents immutable price snapshot at time of addition, not dynamic product price.","reason":"Story requires CartItem to retain price snapshot for accurate cart calculations; LLD schema is ambiguous."}],"delete":null}