{"add": [{"section": "Cart Service / Cart APIs", "requirement_reference": "story_summary.json: api_contracts_required", "description": "Missing explicit API endpoint for 'DELETE /api/v1/cart/items/{itemId}' to remove item from cart. LLD only describes remove_from_cart method but does not specify REST endpoint.", "reason": "Story acceptance criteria requires RESTful endpoint for item removal, but LLD omits endpoint definition."}, {"section": "Cart Service / Cart APIs", "requirement_reference": "story_summary.json: business_logic_rules", "description": "Missing UI redirection logic for empty cart state ('continue shopping' link). LLD describes cart item operations but does not specify UI behavior for empty cart.", "reason": "Story specifies UI redirection for empty cart, but LLD does not address this workflow."}, {"section": "Cart Service / Cart APIs", "requirement_reference": "story_summary.json: api_contracts_required", "description": "Missing explicit API endpoint for 'PUT /api/v1/cart/items/{itemId}' to update quantity. LLD describes update_cart_item method but does not specify REST endpoint.", "reason": "Story acceptance criteria requires RESTful endpoint for quantity update, but LLD omits endpoint definition."}], "modify": [{"section": "Cart Service / Cart APIs", "current_state": "add_to_cart method accepts quantity and price, validates product availability, updates cart total. API endpoint is 'POST /api/v1/cart/add'.", "required_change": "Update API endpoint to 'POST /api/v1/cart/items' as per story contract. Default quantity should be 1 if not specified. Ensure price snapshot logic is enforced.", "reason": "Story specifies 'POST /api/v1/cart/items' endpoint and default quantity logic, but LLD uses 'POST /api/v1/cart/add' and lacks default quantity enforcement."}, {"section": "Cart Service / Cart APIs", "current_state": "update_cart_item method validates quantity and updates item. API endpoint is 'PUT /api/v1/cart/update'.", "required_change": "Update API endpoint to 'PUT /api/v1/cart/items/{itemId}' as per story contract. Ensure validation rules match story (quantity 1-99, remove if 0).", "reason": "Story specifies 'PUT /api/v1/cart/items/{itemId}' endpoint and validation rules, but LLD uses 'PUT /api/v1/cart/update' and lacks removal-on-zero logic."}, {"section": "Cart Service / Cart APIs", "current_state": "remove_from_cart method removes item and updates cart total. API endpoint is not specified.", "required_change": "Specify API endpoint as 'DELETE /api/v1/cart/items/{itemId}' for item removal.", "reason": "Story requires RESTful endpoint for item removal, but LLD omits endpoint definition."}, {"section": "Cart Service / Cart APIs", "current_state": "get_cart method fetches cart from cache or database, validates product availability, returns cart with current prices.", "required_change": "Ensure cart response includes individual subtotals, cart total, and item count as per story contract.", "reason": "Story specifies cart response structure, but LLD does not detail subtotals and item count."}], "delete": null}